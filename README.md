 <div align="center">
  <font size="50">ğŸ² DINO GUN ğŸ‰</font>
</div>

<div align="center">
* Thá»­ nghiá»‡m game: 
    </div>

<div align="center">
* PhÃ¡ Ä‘áº£o game: 
</div>

<div align="center">
Báº£n Tiáº¿ng Anh: <a href="./README-en.md">English version</a>
</div>

## Giá»›i thiá»‡u

Trong má»™t tháº¿ giá»›i xa xÃ´i, cÃ¡c loÃ i khá»§ng long sá»‘ng hÃ²a bÃ¬nh bá»‹ Ä‘e dá»a bá»Ÿi má»™t nguy hiá»ƒm má»›i. Cá»•ng tá»­ tháº§n má»Ÿ ra, phÃ³ng ra nhá»¯ng quÃ¡i váº­t Ä‘Ã¡ng sá»£, táº¥n cÃ´ng cÃ¡c cá»™ng Ä‘á»“ng khá»§ng long.
Chiáº¿n binh khá»§ng long dÅ©ng cáº£m Ä‘Ã£ Ä‘eo sÃºng, sáºµn sÃ ng chiáº¿n Ä‘áº¥u chá»‘ng láº¡i Ä‘áº¡i quÃ¢n quÃ¡i váº­t. Báº¡n sáº½ Ä‘Ã³ng vai trÃ² cá»§a má»™t chá»‰ huy tÃ i ba, xÃ¢y dá»±ng vÃ  cá»§ng cá»‘ tráº­n Ä‘á»‹a, sáº¯p xáº¿p chiáº¿n lÆ°á»£c, vÃ  dáº«n dáº¯t quÃ¢n Ä‘á»™i vÃ o cuá»™c chiáº¿n chá»‘ng láº¡i Ä‘áº¡i bÃ ng Ä‘en.

HÃ£y tham gia vÃ o cuá»™c phiÃªu lÆ°u vÃ  khÃ¡m phÃ¡ tháº¿ giá»›i Ä‘áº§y mÃ u sáº¯c cá»§a DINO GUN ngay bÃ¢y giá» ğŸ® !

- [Information](#information)
- [Idea](#idea)
- [Milestone](#milestone)
- [Prerequisites](#prerequisites)
- [Download](#download)
  - [No code](#download-no-code)
  - [Include code](#download-with-code)
- [Gameplay](#gameplay)
  - [Begin](#begin)
  - [Level](#level)
  - [Object](#object)
    - [Player](#player)
    - [Threat](#threat)
  - [Play](#play)
- [Graphics](#graphics)
- [Notes](#notes)

## **Information**

Name: LÃª Thá»‹ TÃº PhÆ°Æ¡ng  
Student ID: 22020695  
Class: K68J  
Email: 23020695@vnu.edu.vn  
Facebook: https://www.facebook.com/Lethituphuong2005

## **Idea**

> PhÃ¡t triá»ƒn theo game CASTLE DEFENDER: game thá»§ thÃ nh chiáº¿n thuáº­t.

## **Milestone**

### **<font color="green">NgÃ y 17/3/2024</font>**

- XÃ¡c Ä‘á»‹nh Ã½ tÆ°á»Ÿng vÃ  láº­p káº¿ hoáº¡ch chi tiáº¿t cho "Dino Gun".

### **<font color="green">NgÃ y 19/3/2024</font>**

- TÃ¬m kiáº¿m vÃ  chá»n lá»±a Ä‘á»“ há»a phÃ¹ há»£p cho trÃ² chÆ¡i.

### **<font color="green">Tá»« ngÃ y 20/3 Ä‘áº¿n ngÃ y 8/4/2024</font>**

- PhÃ¡t triá»ƒn pháº§n chÃ­nh cá»§a trÃ² chÆ¡i, bao gá»“m mÃ´i trÆ°á»ng chÆ¡i, mÃ n chÆ¡i vÃ  tÃ­nh nÄƒng Ä‘áº·c biá»‡t.

### **<font color="green">Tá»« ngÃ y 10/4 Ä‘áº¿n ngÃ y 24/4/2024</font>**

- HoÃ n thiá»‡n vÃ  Ä‘iá»u chá»‰nh tÃ­nh nÄƒng, Ä‘á»“ há»a vÃ  gameplay cá»§a "Dino Gun".

### **<font color="green">NgÃ y 25/4/2024</font>**

- "Dino Gun" hoÃ n thÃ nh vÃ  sáºµn sÃ ng ra máº¯t!

## **Prerequisites**

> C++  
> SDL_2

## **Download** <a name="download"></a>

### **No code** <a name="download-no-code"></a>

Táº£i game (Ä‘Æ°á»£c nÃ©n thÃ nh .zip) táº¡i link sau: https://github.com/nmhienbn/PVZ-Kaito-NMH-Edition/releases/tag/published
CÃ¡ch nÃ y tiáº¿t kiá»‡m bá»™ nhá»› vÃ  thá»i gian táº£i Ä‘i ráº¥t nhiá»u .
Giáº£i nÃ©n game vÃ o má»™t thÆ° má»¥c vÃ  báº­t pvz.exe lÃªn vÃ  chÆ¡i.

### **Include code**

BÆ°á»›c 1: Clone repo nÃ y vá» hoáº·c chá»n Code -> Download Zip
Táº¥t cáº£ code Ä‘á»u náº±m trong thÆ° má»¥c src.
CÃ³ thá»ƒ nháº£y Ä‘áº¿n bÆ°á»›c 5 Ä‘á»ƒ chÆ¡i luÃ´n.   
BÆ°á»›c 2: CÃ i mingw. á» Ä‘Ã¢y tÃ´i cÃ i Ä‘áº·t phiÃªn báº£n MinGW-W64 GCC-8.1.0 x86_64-posix-seh.
Má»™t sá»‘ chÃº Ã½:

Náº¿u sá»­ dá»¥ng trÃ¬nh biÃªn dá»‹ch khÃ¡c thÃ¬ pháº£i dá»‹ch láº¡i icon: vÃ o thÆ° má»¥c icon rá»“i dÃ¹ng lá»‡nh windres main.rc -O coff main.res trong cmd.
Pháº£i xÃ³a ba dll cá»§a c++ trong thÆ° má»¥c chá»©a pvz.exe: libgcc_s_seh-1.dll, libstdc++-6.dll, libwinpthread-1.dll. Ba dll nÃ y chá»‰ dÃ nh cho ngÆ°á»i chÆ¡i khÃ´ng cÃ i sáºµn c++ trong mÃ¡y.
BÆ°á»›c 3: CÃ i GNU make

BÆ°á»›c 4: Má»Ÿ cmd trong thÆ° má»¥c chá»©a Makefile vÃ  gÃµ lá»‡nh make.

BÆ°á»›c 5: Báº­t pvz.exe vÃ  chÆ¡i

## **Gameplay**s

### <span style="color: green;">**Begin**</span>

Khi vÃ o mÃ n hÃ¬nh menu game, cÃ³ cÃ¡c con dino chuyá»ƒn Ä‘á»™ng , sáº½ cÃ³ 5 dÃ²ng chá»¯ Ä‘á»ƒ báº¡n chá»n, báº¡n cÃ³ thá»ƒ chÆ¡i game ngay láº­p tá»©c á»Ÿ Ä‘Ã¢y sáº½ khÃ´ng cÃ³ level vÃ  chá»n mÃ u cho nhÃ¢n váº­t, máº·c Ä‘á»‹nh lÃ  mÃ u vÃ ng, hoáº·c vÃ o hÃ m highscore Ä‘á»ƒ xem 5 Ä‘iá»ƒm sá»‘ cao nháº¥t tá»«ng chÆ¡i, hÃ m help sáº½ hÆ°á»›ng dáº«n báº¡n cÃ¡ch chÆ¡i vÃ  luáº­t chÆ¡i, á»Ÿ dÃ²ng chá»¯ level khi báº¡n nháº¥p vÃ o sáº½ Ä‘á»•i sang level vÃ  mÃ u cho nhÃ¢n váº­t, exit sáº½ giÃºp báº¡n thoÃ¡t khá»i trÃ² chÆ¡i, nÃºt Ã¢m thanh sáº½ giÃºp báº¡n táº¯t báº­t Ã¢m thanh chá»‰ cáº§n nháº¥n vÃ o biá»ƒu tÆ°á»£ng.
![](./imgs/menu.png)

### <span style="color: green;">**Level**</span>

Khi báº¡n chuyá»ƒn tá»« menuscene sang levelscene sáº½ cho cÃ¡c báº¡n chá»n má»©c Ä‘á»™ cá»§a game tá»« dá»… Ä‘áº¿n khÃ³
![](./imgs/level.png)

### <span style="color: green;">**Object**</span> <a name="object"></a>

#### <span style="color: orange;">**Player**</span>

Sau khi báº¡n tá»« levelscene sang chá»n mÃ u dino sáº½ cÃ³ cÃ¡c hÃ¬nh áº£nh vÃ  tÃªn á»Ÿ dÆ°á»›i Ä‘á»ƒ báº¡n chá»n mÃ u sáº¯c cho con dino báº¡n muá»‘n chÆ¡i
![](./imgs/choose.png)

#### <span style="color: orange;">**Threat**</span>

Äá»ƒ Ä‘á»‘i Ä‘áº§u vá»›i con dino, vÃ  Ä‘Ã¡nh chiáº¿m tÃ²a thÃ¡p sáº½ lÃ  nhá»¯ng con threat, threat sáº½ gá»“m cÃ¡c Ä‘á»‘i tÆ°á»£ng:
![](./res/textures/monsters/goblin/attack.png)
![](./res/textures/monsters/mushroom/attack.png)
![](./res/textures/monsters/skeleton/attack.png)

### <span style="color: green;">**Play**</span>

HÃ£y dÃ¹ng cÃ¡c nÃºt A S W D Ä‘á»ƒ di chuyá»ƒn nhÃ¢n váº­t, dÃ¹ng chuá»™t trÃ¡i Ä‘á»ƒ báº¯n Ä‘áº¡n gÃ¢y sÃ¡t thÆ°Æ¡ng cho Threat, báº£o vá»‡ tÃ²a thÃ nh. ChÃº Ã½ Ä‘á»«ng Ä‘á»ƒ dino cháº¡m vÃ o quÃ¡i váº­t vÃ  Ä‘á»«ng báº¯n quÃ¡ nhiá»u Ä‘áº¡n, Ä‘áº¡n cÃ³ giá»›i háº¡n. Khi dino hoáº·c tÃ²a thÃ¡p háº¿t mÃ¡u thÃ¬ GameOver

## **Graphics**

Sá»± há»— trá»£ tá»« cÃ¡c tháº§y lÃ½ thuyáº¿t, thá»±c hÃ nh, vÃ  cÃ¡c anh mentor.
CÃ¡c nguá»“n tá»« lazyfoo, chat gpt,thá»±c hÃ nh 123,...
Nhá»¯ng tÃ i nguyÃªn Ä‘Ã£ sá»­ dá»¥ng:

![](./res/textures/player/dinoblue.png)
![](./res/textures/player/dinored.png)
![](./res/textures/player/dinoyellow.png)
![](./res/textures/player/dinoygreen.png)

## **Notes**

á» Ä‘Ã¢y sáº½ cÃ³ nhá»¯ng thuáº­t toÃ¡n chÃ­nh Ä‘á»ƒ táº¡o nÃªn game:
-Va cháº¡m giá»¯a cÃ¡c Ä‘á»‘i tÆ°á»£ng

```cpp
bool BaseObject::IsCollision(const BaseObject* other) const
{
    int left = other->GetRectCollision().x - (this->GetRectCollision().x + this->GetRectCollision().w);
    int top = (other->GetRectCollision().y + other->GetRectCollision().h) - this->GetRectCollision().y;
    int right = (other->GetRectCollision().x + other->GetRectCollision().w) - this->GetRectCollision().x;
    int bottom = other->GetRectCollision().y - (this->GetRectCollision().y + this->GetRectCollision().h);

    return !(left > 0 || right < 0 || top < 0 || bottom > 0);
}
```

-Thuáº­t toÃ¡n Ä‘á»ƒ player di chuyá»ƒn theo cÃ¡c nÃºt A S W D

```cpp
if (keyboardState[SDL_SCANCODE_A])
{
    this->SetFlipH(true);
    vector.x = -1.f;
    isMoving = true;
}

if (keyboardState[SDL_SCANCODE_D])
{
    this->SetFlipH(false);
    vector.x = 1.f;
    isMoving = true;
}

if (keyboardState[SDL_SCANCODE_W])
{
    vector.y = -1.f;
    isMoving = true;
}

if (keyboardState[SDL_SCANCODE_S])
{
    vector.y = 1.f;
    isMoving = true;
}
```

-Thuáº­t toÃ¡n Ä‘á»ƒ threat sinh ra á»Ÿ vá»‹ trÃ­ ngáº«u nhiÃªn

```cpp
if (Random::RandomBool())
{
    this->SetOrigin({ Random::RandomInt(0, WINDOW_WIDTH), Random::RandomBool() ? 0 : WINDOW_HEIGHT });
}
else
{
    this->SetOrigin({ Random::RandomBool() ? 0 : WINDOW_WIDTH, Random::RandomInt(0, WINDOW_HEIGHT) }); //
}
```

-Thuáº­t toÃ¡n Ä‘á»ƒ threat luÃ´n á»Ÿ Ä‘áº¿n Ä‘á»ƒ di chuyá»ƒn Ä‘áº¿n tower Ä‘á»ƒ táº¥n cÃ´ng

```cpp
if (this->m_state == ThreatState::WALK)
{
    Vector2f vec = Vector2f((float)(WINDOW_WIDTH / 2 - o.x), (float)(WINDOW_HEIGHT / 2 - o.y));

    if (vec.Magnitude() > 80.f)
    {
        this->Move(vec.Normalize() * (float)(this->m_speed * delta));
    }
    else
    {
        this->SetState(ThreatState::ATTACK);
    }
}
```

-Sá»­ dá»¥ng singleton pattern Ä‘á»ƒ duy nháº¥t 1 g_game Ä‘Æ°á»£c khá»Ÿi táº¡o

```cpp
Game* Game::GetInstance()
{
    if(g_game==nullptr)
    {
        g_game=new Game();
    }
    return g_game;
}
```

-HÃ m Ä‘á»ƒ chuyá»ƒn cáº£nh giá»¯a cÃ¡c window

```cpp
void Game::SetScene(BaseScene* scene)
{
    m_scene = scene;
}
```
