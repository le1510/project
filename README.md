 <div align="center">
  <font size="50">üê≤ DINO GUN üêâ</font>
</div>

<div align="center">
* Th·ª≠ nghi·ªám game: 
    </div>

<div align="center">
* Ph√° ƒë·∫£o game: 
</div>

## Gi·ªõi thi·ªáu

Trong m·ªôt th·∫ø gi·ªõi xa x√¥i, c√°c lo√†i kh·ªßng long s·ªëng h√≤a b√¨nh b·ªã ƒëe d·ªça b·ªüi m·ªôt nguy hi·ªÉm m·ªõi. C·ªïng t·ª≠ th·∫ßn m·ªü ra, ph√≥ng ra nh·ªØng qu√°i v·∫≠t ƒë√°ng s·ª£, t·∫•n c√¥ng c√°c c·ªông ƒë·ªìng kh·ªßng long.
Chi·∫øn binh kh·ªßng long d≈©ng c·∫£m ƒë√£ ƒëeo s√∫ng, s·∫µn s√†ng chi·∫øn ƒë·∫•u ch·ªëng l·∫°i ƒë·∫°i qu√¢n qu√°i v·∫≠t. B·∫°n s·∫Ω ƒë√≥ng vai tr√≤ c·ªßa m·ªôt ch·ªâ huy t√†i ba, x√¢y d·ª±ng v√† c·ªßng c·ªë tr·∫≠n ƒë·ªãa, s·∫Øp x·∫øp chi·∫øn l∆∞·ª£c, v√† d·∫´n d·∫Øt qu√¢n ƒë·ªôi v√†o cu·ªôc chi·∫øn ch·ªëng l·∫°i ƒë·∫°i b√†ng ƒëen.

H√£y tham gia v√†o cu·ªôc phi√™u l∆∞u v√† kh√°m ph√° th·∫ø gi·ªõi ƒë·∫ßy m√†u s·∫Øc c·ªßa DINO GUN ngay b√¢y gi·ªù üéÆ !

- [Information](#information)
- [Idea](#idea)
- [Milestone](#milestone)
- [Prerequisites](#prerequisites)
- [Download](#download)
  - [No code](#download-no-code)
  - [Include code](#download-with-code)
- [Gameplay](#gameplay)
  - [Begin](#begin)
  - [Level](#level)
  - [Object](#object)
    - [Player](#player)
    - [Threat](#threat)
  - [Play](#play)
- [Graphics](#graphics)
- [Notes](#notes)

## **Information**

Name: L√™ Th·ªã T√∫ Ph∆∞∆°ng  
Student ID: 22020695  
Class: K68J  
Email: 23020695@vnu.edu.vn  
Facebook: https://www.facebook.com/Lethituphuong2005

## **Idea**

> Ph√°t tri·ªÉn theo game CASTLE DEFENDER: game th·ªß th√†nh chi·∫øn thu·∫≠t.

## **Milestone**

### **<font color="green">Ng√†y 17/3/2024</font>**

- X√°c ƒë·ªãnh √Ω t∆∞·ªüng v√† l·∫≠p k·∫ø ho·∫°ch chi ti·∫øt cho "Dino Gun".

### **<font color="green">Ng√†y 19/3/2024</font>**

- T√¨m ki·∫øm v√† ch·ªçn l·ª±a ƒë·ªì h·ªça ph√π h·ª£p cho tr√≤ ch∆°i.

### **<font color="green">T·ª´ ng√†y 20/3 ƒë·∫øn ng√†y 8/4/2024</font>**

- Ph√°t tri·ªÉn ph·∫ßn ch√≠nh c·ªßa tr√≤ ch∆°i, bao g·ªìm m√¥i tr∆∞·ªùng ch∆°i, m√†n ch∆°i v√† t√≠nh nƒÉng ƒë·∫∑c bi·ªát.

### **<font color="green">T·ª´ ng√†y 10/4 ƒë·∫øn ng√†y 24/4/2024</font>**

- Ho√†n thi·ªán v√† ƒëi·ªÅu ch·ªânh t√≠nh nƒÉng, ƒë·ªì h·ªça v√† gameplay c·ªßa "Dino Gun".

### **<font color="green">Ng√†y 25/4/2024</font>**

- "Dino Gun" ho√†n th√†nh v√† s·∫µn s√†ng ra m·∫Øt!

## **Prerequisites**

> C++  
> SDL_2

## **Download** <a name="download"></a>

### **No code** <a name="download-no-code"></a>

T·∫£i game (ƒë∆∞·ª£c n√©n th√†nh .zip) t·∫°i link sau: https://github.com/nmhienbn/PVZ-Kaito-NMH-Edition/releases/tag/published
C√°ch n√†y ti·∫øt ki·ªám b·ªô nh·ªõ v√† th·ªùi gian t·∫£i ƒëi r·∫•t nhi·ªÅu .
Gi·∫£i n√©n game v√†o m·ªôt th∆∞ m·ª•c v√† b·∫≠t pvz.exe l√™n v√† ch∆°i.

### **Include code**

B∆∞·ªõc 1: Clone repo n√†y v·ªÅ ho·∫∑c ch·ªçn Code -> Download Zip
https://github.com/le1510/project/blob/main/res/textures/map/background-2.png
T·∫•t c·∫£ code ƒë·ªÅu n·∫±m trong th∆∞ m·ª•c src.
C√≥ th·ªÉ nh·∫£y ƒë·∫øn b∆∞·ªõc 5 ƒë·ªÉ ch∆°i lu√¥n.
B∆∞·ªõc 2: C√†i mingw. ·ªû ƒë√¢y t√¥i c√†i ƒë·∫∑t phi√™n b·∫£n MinGW-W64 GCC-8.1.0 x86_64-posix-seh.
M·ªôt s·ªë ch√∫ √Ω:

N·∫øu s·ª≠ d·ª•ng tr√¨nh bi√™n d·ªãch kh√°c th√¨ ph·∫£i d·ªãch l·∫°i icon: v√†o th∆∞ m·ª•c icon r·ªìi d√πng l·ªánh windres main.rc -O coff main.res trong cmd.
Ph·∫£i x√≥a ba dll c·ªßa c++ trong th∆∞ m·ª•c ch·ª©a pvz.exe: libgcc_s_seh-1.dll, libstdc++-6.dll, libwinpthread-1.dll. Ba dll n√†y ch·ªâ d√†nh cho ng∆∞·ªùi ch∆°i kh√¥ng c√†i s·∫µn c++ trong m√°y.
B∆∞·ªõc 3: C√†i GNU make

B∆∞·ªõc 4: M·ªü cmd trong th∆∞ m·ª•c ch·ª©a Makefile v√† g√µ l·ªánh make.

B∆∞·ªõc 5: B·∫≠t pvz.exe v√† ch∆°i

## **Gameplay**s

### <span style="color: green;">**Begin**</span>

Khi v√†o m√†n h√¨nh menu game, c√≥ c√°c con dino chuy·ªÉn ƒë·ªông , s·∫Ω c√≥ 5 d√≤ng ch·ªØ ƒë·ªÉ b·∫°n ch·ªçn, b·∫°n c√≥ th·ªÉ ch∆°i game ngay l·∫≠p t·ª©c ·ªü ƒë√¢y s·∫Ω kh√¥ng c√≥ level v√† ch·ªçn m√†u cho nh√¢n v·∫≠t, m·∫∑c ƒë·ªãnh l√† m√†u v√†ng, ho·∫∑c v√†o h√†m highscore ƒë·ªÉ xem 5 ƒëi·ªÉm s·ªë cao nh·∫•t t·ª´ng ch∆°i, h√†m help s·∫Ω h∆∞·ªõng d·∫´n b·∫°n c√°ch ch∆°i v√† lu·∫≠t ch∆°i, ·ªü d√≤ng ch·ªØ level khi b·∫°n nh·∫•p v√†o s·∫Ω ƒë·ªïi sang level v√† m√π cho nh√¢n v·∫≠t, exit s·∫Ω gi√∫p b·∫°n tho√°t kh·ªèi tr√≤ ch∆°i, n√∫t √¢m thanh s·∫Ω gi√∫p b·∫°n t·∫Øt b·∫≠t √¢m thanh ch·ªâ c·∫ßn nh·∫•n v√†o bi·ªÉu t∆∞·ª£ng.
[![·∫¢nh ch·ª•p m√†n h√¨nh 2024-04-25 150508](https://hackmd.io/_uploads/ryHNZcvbR.png)
]
(https://github.com/le1510/project/blob/main/res/textures/map/background-2.png)

### <span style="color: green;">**Level**</span>

Khi b·∫°n chuy·ªÉn t·ª´ menuscene sang levelscene s·∫Ω cho c√°c b·∫°n ch·ªçn m·ª©c ƒë·ªô c·ªßa game t·ª´ d·ªÖ ƒë·∫øn kh√≥
![Uploading file..._ybctwqrx5]()

### <span style="color: green;">**Object**</span> <a name="object"></a>

#### <span style="color: orange;">**Player**</span>

Sau khi b·∫°n t·ª´ levelscene sang ch·ªçn m√†u dino s·∫Ω c√≥ c√°c h√¨nh ·∫£nh v√† t√™n ·ªü d∆∞·ªõi ƒë·ªÉ b·∫°n ch·ªçn m√†u s·∫Øc cho con dino b·∫°n mu·ªën ch∆°i
![·∫¢nh ch·ª•p m√†n h√¨nh 2024-04-25 152023](https://hackmd.io/_uploads/Sy6375wWC.png)

#### <span style="color: orange;">**Threat**</span>

ƒê·ªÉ ƒë·ªëi ƒë·∫ßu v·ªõi con dino, v√† ƒë√°nh chi·∫øm t√≤a th√°p s·∫Ω l√† nh·ªØng con threat, threat s·∫Ω g·ªìm c√°c ƒë·ªëi t∆∞·ª£ng:
![attack](https://hackmd.io/_uploads/BkaSNcPbR.png)
![attack](https://hackmd.io/_uploads/SJUDV9D-0.png)
![attack](https://hackmd.io/_uploads/r1-dE5DbC.png)

### <span style="color: green;">**Play**</span>

H√£y d√πng c√°c n√∫t A S W D ƒë·ªÉ di chuy·ªÉn nh√¢n v·∫≠t, d√πng chu·ªôt tr√°i ƒë·ªÉ b·∫Øn ƒë·∫°n g√¢y s√°t th∆∞∆°ng cho Threat, b·∫£o v·ªá t√≤a th√†nh. Ch√∫ √Ω ƒë·ª´ng ƒë·ªÉ dino ch·∫°m v√†o qu√°i v·∫≠t v√† ƒë·ª´ng b·∫Øn qu√° nhi·ªÅu ƒë·∫°n, ƒë·∫°n c√≥ gi·ªõi h·∫°n. Khi dino ho·∫∑c t√≤a th√°p h·∫øt m√°u th√¨ GameOver
![attack](https://hackmd.io/_uploads/rJyc6cvWA.png)

## **Graphics**

S·ª± h·ªó tr·ª£ t·ª´ c√°c th·∫ßy l√Ω thuy·∫øt, th·ª±c h√†nh, v√† c√°c anh mentor.
C√°c ngu·ªìn t·ª´ lazyfoo, chat gpt,th·ª±c h√†nh 123,...
Nh·ªØng t√†i nguy√™n ƒë√£ s·ª≠ d·ª•ng:
![attack](https://hackmd.io/_uploads/BkNsTcvbC.png)
![attack](https://hackmd.io/_uploads/H1h2TqvbR.png)
![bullet](https://hackmd.io/_uploads/rk7RT9wbR.png)
![dino](https://hackmd.io/_uploads/HkmRp5vZC.png)
![dinoblue](https://hackmd.io/_uploads/SyXC69P-0.png)
![dinogreen](https://hackmd.io/_uploads/BJ70aqPbR.png)
![dinored](https://hackmd.io/_uploads/S14CT5DZC.png)
![dinoyellow](https://hackmd.io/_uploads/BkNApqP-A.png)
![gun](https://hackmd.io/_uploads/HJ4CpqDZR.png)![continue](https://hackmd.io/_uploads/HJqyAcwWA.png)
![continuebig](https://hackmd.io/_uploads/Sy9kR9DWR.png)
![end](https://hackmd.io/_uploads/SyqkC9DbA.png)
![endbig](https://hackmd.io/_uploads/HJq1CcPbA.png)
![background-4](https://hackmd.io/_uploads/rytXC5v-R.png)
![Uploading file..._1xxejdewd]()

## **Notes**

·ªû ƒë√¢y s·∫Ω c√≥ nh·ªØng thu·∫≠t to√°n ch√≠nh ƒë·ªÉ t·∫°o n√™n game:
-Va ch·∫°m gi·ªØa c√°c ƒë·ªëi t∆∞·ª£ng

```cpp
bool BaseObject::IsCollision(const BaseObject* other) const
        {
            int left = other->GetRectCollision().x - (this->GetRectCollision().x + this->GetRectCollision().w);
            int top = (other->GetRectCollision().y + other->GetRectCollision().h) - this->GetRectCollision().y;
            int right = (other->GetRectCollision().x + other->GetRectCollision().w) - this->GetRectCollision().x;
            int bottom = other->GetRectCollision().y - (this->GetRectCollision().y + this->GetRectCollision().h);

    return !(left > 0 || right < 0 || top < 0 || bottom > 0);
}
```

-Thu·∫≠t to√°n ƒë·ªÉ player di chuy·ªÉn theo c√°c n√∫t A S W D

```cpp
if (keyboardState[SDL_SCANCODE_A])
{
    this->SetFlipH(true);
    vector.x = -1.f;
    isMoving = true;
}

if (keyboardState[SDL_SCANCODE_D])
{
    this->SetFlipH(false);
    vector.x = 1.f;
    isMoving = true;
}

if (keyboardState[SDL_SCANCODE_W])
{
    vector.y = -1.f;
    isMoving = true;
}

if (keyboardState[SDL_SCANCODE_S])
{
    vector.y = 1.f;
    isMoving = true;
}
```

-Thu·∫≠t to√°n ƒë·ªÉ threat sinh ra ·ªü v·ªã tr√≠ ng·∫´u nhi√™n

```cpp
if (Random::RandomBool())
{
    this->SetOrigin({ Random::RandomInt(0, WINDOW_WIDTH), Random::RandomBool() ? 0 : WINDOW_HEIGHT });
}
else
{
    this->SetOrigin({ Random::RandomBool() ? 0 : WINDOW_WIDTH, Random::RandomInt(0, WINDOW_HEIGHT) }); //
}
```

-Thu·∫≠t to√°n ƒë·ªÉ threat lu√¥n ·ªü ƒë·∫øn ƒë·ªÉ di chuy·ªÉn ƒë·∫øn tower ƒë·ªÉ t·∫•n c√¥ng

```cpp
if (this->m_state == ThreatState::WALK)
{
    Vector2f vec = Vector2f((float)(WINDOW_WIDTH / 2 - o.x), (float)(WINDOW_HEIGHT / 2 - o.y));

    if (vec.Magnitude() > 80.f)
    {
        this->Move(vec.Normalize() * (float)(this->m_speed * delta));
    }
    else
    {
        this->SetState(ThreatState::ATTACK);
    }
}
```

-S·ª≠ d·ª•ng singleton pattern ƒë·ªÉ duy nh·∫•t 1 g_game ƒë∆∞·ª£c kh·ªüi t·∫°o

```cpp
Game* Game::GetInstance()
{
    if(g_game==nullptr)
    {
        g_game=new Game();
    }
    return g_game;
}
```

-H√†m ƒë·ªÉ chuy·ªÉn c·∫£nh gi·ªØa c√°c window

```cpp
void Game::SetScene(BaseScene* scene)
{
    m_scene = scene;
}
```
